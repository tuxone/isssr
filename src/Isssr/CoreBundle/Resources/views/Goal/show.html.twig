{% extends 'IsssrCoreBundle::layout.html.twig' %}

{% block pagetitle %}Goal{% endblock %}
 
{% block content %}

<table class="table">
    <tbody>
        <tr>
            <th>Id</th>
            <td>{{ entity.id }}</td>
        </tr>
        <tr>
            <th>Title</th>
            <td>{{ entity.title }}</td>
        </tr>
        <tr>
            <th>Description</th>
            <td>{{ entity.description }}</td>
        </tr>
        <tr>
            <th>Priority</th>
            <td>{{ entity.priority }}</td>
        </tr>
        <tr>
            <th>Tags</th>
            	<td>
            		<ul>
					    {% for tag in entity.tags %}
					        <li>{{ tag }}</li>
					    {% endfor %}
					</ul>
            	</td>
            
        </tr>
    </tbody>
</table>

<table>
	<tr>
		<td>
        <a href="{{ path('goal') }}">
            <button>Back</button>
        </a>
		</td>
		<td>
        {% if entity.owner == user and entity.getStatus() != constant('Isssr\\CoreBundle\\Entity\\Goal::STATUS_ACCEPTED')  and entity.getStatus() != constant('Isssr\\CoreBundle\\Entity\\Goal::STATUS_APPROVED')%}
        	<a href="{{ path('goal_edit', { 'id': entity.id }) }}">
            	<button>Edit</button>
        	</a>
        {% endif %}
		</td>
		<td>
	    {% if entity.owner == user and entity.getStatus() != constant('Isssr\\CoreBundle\\Entity\\Goal::STATUS_ACCEPTED')  and entity.getStatus() != constant('Isssr\\CoreBundle\\Entity\\Goal::STATUS_APPROVED')%}    
	        <form action="{{ path('goal_delete', { 'id': entity.id }) }}" method="post" style="display: inline">
	            {{ form_widget(delete_form) }}
	            <button type="submit">Delete</button>
	        </form>
	    {% endif %}
        </td>
	</tr>
</table>

{% endblock %}